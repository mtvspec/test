'use strict';

var CompaniesRouter = require('express').Router();

var DBQueries = require('../db/DBQueries.js');
var DBService = require('../db/DBService.js'), PGService = new DBService();

CompaniesRouter
.get('/', function (request, response) {
  var res;
  PGService.performQueryWithoutLogging(DBQueries.selectCompaniesQuery(), PGService.selectRecords, function (status, data) {
    res = response.status(status);
    if (status === 200) {
      res.json(data);
    }
    return res.end();
  });
})

module.exports = CompaniesRouter;