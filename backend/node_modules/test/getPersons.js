'use strict';



var Persons,
DBQueries = require('../db/DBQueries.js'),
DBService = require('../db/DBService.js'), PGService = new DBService();



function retrievePersons(cb) {
  PGService.performQueryWL(
    DBQueries.selectPersonsQuery(),
    PGService.selectRecordsWL,
    function (status, persons) {
      return cb(status, persons);
    }
  );
};

function PersonsModel() {
  var Persons = [];

  return {
    return Persons;
  }

  if (Persons.length === 0) {
    return retrievePersons(function (status, persons) {
      if (status === 200) {
        for (var i = 0; i < persons.length; i++) {
          Persons.push(persons[i]);
        }
        getPersons(Persons);
        return getPersons;
      } else if (status === 204) {
        return Persons;
      }
    });
  }
  return Persons;
}
