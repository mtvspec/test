var assert = require('chai').assert, should = require('chai').should(), expect = require('chai').expect,
request = require('superagent');

describe('Post company', function () {
  it('should respond to POST request with status code 201 and return company id', function (done) {
    request('POST', 'http://192.168.1.221/api/companies/')
    .send({
      id: '871215301102',
      shortName: 'КГД',
      longName: 'КГД МФ РК',
      fullName: 'Комитет государственных доходов Министерства финансов Республики Казахстан'
    })
    .end(function (err, response) {
      assert.ok(response, 'response');
      response.status.should.equals(201);
      assert(response.body.id === '871215301102', 'invalid company id');
      done();
    });
  });
});
