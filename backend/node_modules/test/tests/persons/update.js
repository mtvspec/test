var assert = require('chai').assert, should = require('chai').should(), expect = require('chai').expect,
request = require('superagent');

describe('Update person by id', function () {
  it('should respond with status code 200 and return person id', function (done) {
    var id = '871215301496';
    request('PUT', 'http://192.168.1.221/api/persons/' + id)
    .send({
      id: '871215301496',
      lastName: 'Маусумбаев',
      firstName: 'Тимур',
      middleName: 'Владимирович',
      dob: '1987-12-15',
      genderID: 'M'
    })
    .end(function (err, response) {
      assert.ok(response, 'response');
      response.status.should.equals(200);
      assert(response.body.id === '871215301496', 'invalid person id');
      assert(response.body.lastName === 'Маусумбаев', 'invalid person last name');
      assert(response.body.firstName === 'Тимур', 'invalid person first name');
      assert(response.body.middleName === 'Владимирович', 'invalid person middle name');
      assert(response.body.dob === '1987-12-15T18:00:00.000Z', 'invalid person dob');
      assert(response.body.genderID === 'M', 'invalid person gender id');
      done();
    });
  });
});
