var assert = require('chai').assert, should = require('chai').should(), expect = require('chai').expect,
request = require('superagent');

describe('Post person', function () {
  it('should respond to POST request with status code 201 and return person id', function (done) {
    request('POST', 'http://192.168.1.221/api/persons/')
    .send({
      id: '890605300776',
      lastName: 'Уразгалиев',
      firstName: 'Роллан',
      middleName: 'Жексембаевич',
      dob: '1989-06-05',
      genderID: 'M'
    })
    .end(function (err, response) {
      assert.ok(response, 'response');
      response.status.should.equals(201);
      assert(response.body.id === '890605300776', 'invalid person id');
      done();
    });
  });
});
