'use strict';

var Controller = require('controller/new Controller.js'), PersonsController = new Controller(),
PersonsQueries = require('db/queries/persons.js'),
LTServiceC = require('pg-service/LTServiceC.js'), PersonsService = new LTServiceC();

var result = PersonsController.validate({
  id: '871215301496',
  lastName: 'Маусумбаев',
  firstName: 'Тимур',
  middleName: 'Владимирович',
  dob: '1987-12-15',
  genderID: 'M'
}, 'person'),
PersonsModel = [];

var person = {
  id: '871215301496',
  lastName: 'Маусумбаев',
  firstName: 'Тимур',
  middleName: 'Владимирович',
  dob: '1987-12-15',
  genderID: 'M'
};

if (PersonsModel.length === 0) {
  selectPersons();
}

var PersonsModelService = {
  getPersons: function getPersons(cb) {
    if (PersonsModel.length === 0) {
      return cb(204, []);
    } else if (PersonsModel.length > 0) {
      return cb(200, PersonsModel);
    }
  }
}

function selectPersons() {
  PersonsService.selectRecordsC({
    text: PersonsQueries['select persons']
  }, function (status, data) {
    PersonsModel.push(data[0]);
  });
}

class Person {
  constructor(data) {
    this.id = data.id,
    this.lastName = data.lastName,
    this.firstName = data.firstName,
    this.middleName = data.middleName,
    this.dob = data.dob,
    this.genderID = data.genderID
  }
}

var Timur = new Person(person);

console.log(Timur);
